<!DOCTYPE html>
<html>
  <head> 
    <link rel="stylesheet" href="popup.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  </head>
<body>
<div class="container">
  <h4>YTNotion</h4>
  <form id="configForm">
    <div class="form-group">
      <label for="databaseId">Notion Database ID</label>
      <input type="text" class="form-control" id="databaseId" placeholder="Enter Notion Database ID">
    </div>
    <div class="form-group">
      <label for="apiToken">Notion API Token</label>
      <input type="text" class="form-control" id="apiToken" placeholder="Enter Notion API Token">
    </div>
    <button type="submit" class="btn btn-primary">Create Link</button>
  </form>
</div>
<script>
  document.getElementById('configForm').addEventListener('submit', function(event) {
    event.preventDefault();

    // Get form field values
    var databaseId = document.getElementById('databaseId').value;
    var apiToken = document.getElementById('apiToken').value;

    // Create message object with form data
    var message = {
      type: 'CONFIG',
      data: {
        databaseId: databaseId,
        apiToken: apiToken
      }
    };

    // Send message to the content script
    chrome.tabs.query({ active: true, currentWindow: true }, function(tabs) {
      chrome.tabs.sendMessage(tabs[0].id, message);
    });

    // Reset form fields
    document.getElementById('databaseId').value = '';
    document.getElementById('apiToken').value = '';
  });
</script>
</body>
</html>